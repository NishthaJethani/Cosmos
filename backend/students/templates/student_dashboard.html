<!-- students/templates/students/dashboard.html -->

{% extends 'student_base.html' %}

{% block content %}
  <h1>Welcome, {{ user.username }}!</h1>
  <h2>Leave Application Form</h2>
  <form method="post" action="{% url 'apply_leave' %}">
    {% csrf_token %}
    <label for="start_date">Start Date:</label>
    <input type="date" id="start_date" name="start_date"><br>

    <label for="end_date">End Date:</label>
    <input type="date" id="end_date" name="end_date"><br>

    <label for="reason">Reason:</label>
    <textarea id="reason" name="reason"></textarea><br>

    <button type="submit">Apply Leave</button>
  </form>
  <h2>Leave Applications</h2>
  {% for leave in leave_applications %}
    <div>
      <p><strong>Start Date:</strong> {{ leave.start_date }}</p>
      <p><strong>End Date:</strong> {{ leave.end_date }}</p>
      <p><strong>Reason:</strong> {{ leave.reason }}</p>
      <p><strong>Status:</strong> {{ leave.status }}</p>
    </div>
  {% endfor %}
{% endblock %}
