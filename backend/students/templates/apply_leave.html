{% extends 'student_base.html' %}

{% block content %}
  <h1>Welcome, {{ user.username }}!</h1>
  <hr>
  <h2>Leave Application Form</h2>
  <form method="post" action="{% url 'students:apply_leave' %}">
    {% csrf_token %}
    <div>
      <label for="start_date">Start Date:</label>
      <input type="date" id="start_date" name="start_date">
    </div>
    <br>
    <div>
      <label for="end_date">End Date:</label>
      <input type="date" id="end_date" name="end_date">
    </div>
    <br>
    <div>
      <label for="reason">Reason:</label>
      <textarea id="reason" name="reason"></textarea>
    </div>
    <br>
    <button type="submit">Apply Leave</button>
  </form>
  <hr>
  <h2>Leave Applications</h2>
  {% for leave in leave_applications %}
    <div>
      <p><strong>Start Date:</strong> {{ leave.start_date }}</p>
      <p><strong>End Date:</strong> {{ leave.end_date }}</p>
      <p><strong>Reason:</strong> {{ leave.reason }}</p>
      <p><strong>Status:</strong> {{ leave.status }}</p>
    </div>
    <hr width="400" align="left">
  {% endfor %}
{% endblock %}
